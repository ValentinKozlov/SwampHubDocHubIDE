# Ключевые правила работы с репозиторием DocHub

DocHub - это инструмент описания архитектуры через код (Architecture as a Code), позволяющий управлять архитектурными артефактами в формате текстовых файлов, хранящихся в Git-репозитории. Данный подход обеспечивает версионирование, совместную работу и стандартизацию архитектурной документации.

## Структура репозитория

- **dochub.yaml** - корневой манифест репозитория, определяющий метаданные пакета и импорты других манифестов
- **_metamodel_/** - каталог с метамоделью, определяющей структуру описания архитектуры. Сейчас подключена дефолтная метамодель расположенная по [адресу](https://alpha.dochub.info/archcode/_metamodel_/ceaf-app/dochub.yaml) 

## Правила именования файлов и папок

1. **Уникальные идентификаторы**: используйте уникальные и понятные идентификаторы для артефактов в YAML-манифестах
2. **Структура каталогов**: разделяйте артефакты по логическим доменам и уровням абстракции
3. **Файлы манифестов**: размещайте файлы манифестов (dochub.yaml) в соответствующих каталогах для структурирования документации
4. **Именование файлов**: используйте нижний регистр, без пробелов, с разделением слов через дефис или подчеркивание

## Правила версионирования

1. **Корректное использование веток Git**:
   - `master` - стабильная версия архитектуры
   - `develop` - ветка для интеграции изменений
   - Тематические ветки для отдельных изменений в архитектуре

2. **Семантическое версионирование**: используйте семантическое версионирование (MAJOR.MINOR.PATCH) в метаданных пакета

## Правила документирования

1. **Манифесты**: используйте YAML-манифесты для описания структуры и метаданных артефактов
2. **Markdown**: используйте Markdown для текстового описания архитектуры
3. **Диаграммы**: используйте PlantUML, Mermaid, или другие текстовые форматы описания диаграмм
4. **Комментарии**: добавляйте комментарии к сложным частям архитектуры в YAML-файлах

## Совместная работа

1. **Pull Request**: используйте механизм Pull Request для внесения изменений
2. **Код-ревью**: обязательно проводите код-ревью изменений архитектуры
3. **Стандарты оформления**: следуйте единым стандартам оформления документации
4. **Разрешение конфликтов**: используйте обсуждения в Pull Request для разрешения спорных моментов

## Работа с метамоделью

1. **Соблюдение метамодели**: все артефакты должны соответствовать определенной метамодели
2. **Расширение метамодели**: при необходимости расширения метамодели согласуйте изменения с архитектурным комитетом
3. **Валидация**: регулярно проводите валидацию архитектуры на соответствие метамодели

## Интеграция и валидация

1. **CI/CD**: настройте CI/CD для автоматической валидации и публикации документации
2. **Автоматические проверки**: внедрите автоматические проверки консистентности архитектуры
3. **Обратная связь**: используйте issues для сбора обратной связи об архитектуре

## Безопасность

1. **Конфиденциальная информация**: не храните конфиденциальную информацию в репозитории
2. **Управление доступом**: настройте правильные уровни доступа к репозиторию
3. **Аудит**: регулярно проводите аудит безопасности репозитория

## Обратная связь и улучшение

1. **Предложения по улучшению**: используйте issues для предложений по улучшению архитектуры
2. **Регулярный анализ**: проводите регулярный анализ эффективности работы с репозиторием
3. **Обновление правил**: обновляйте правила работы с репозиторием на основе накопленного опыта